<?php
require_once __DIR__ . '/vendor/autoload.php';

use Dotenv\Dotenv;
use App\Services\Mailer;

$dotenv = Dotenv::createImmutable(__DIR__);
$dotenv->load();

session_start();

// CSRFトークン生成
if (empty($_SESSION['csrf_token'])) {
  $_SESSION['csrf_token'] = bin2hex(random_bytes(32));
}

$errors = [];

// HTMLエスケープ処理
function escape($string) {
  return htmlspecialchars($string, ENT_QUOTES, 'UTF-8');
}

// CSRFトークンチェック
function check_csrf_token($token) {
  return isset($_SESSION['csrf_token']) && hash_equals($_SESSION['csrf_token'], $token);
}

// 日本語文字が含まれているかチェック
function contains_japanese($text) {
  // ひらがな、カタカナ、漢字、日本語の句読点が含まれているかチェック
  return preg_match('/[\x{3040}-\x{309F}\x{30A0}-\x{30FF}\x{4E00}-\x{9FAF}\x{3000}-\x{303F}]/u', $text);
}

// バリデーション関数
function validate_input($name, $email, $message) {
  $errors = [];
  if (!$name) $errors[] = '名前を入力してください。';
  if (!$email || !filter_var($email, FILTER_VALIDATE_EMAIL)) $errors[] = '有効なメールアドレスを入力してください。';
  if (!$message) $errors[] = 'お問合せ内容を入力してください。';

  // 英語のみのメールを検出（日本語が含まれていない場合）
  $combinedText = $name . ' ' . $message;
  if (!contains_japanese($combinedText)) {
    // 原因不明のエラーとして返す（具体的な理由は表示しない）
    $errors[] = 'エラーが発生しました。しばらく時間をおいてから再度お試しください。';
  }
  return $errors;
}

// Ajaxリクエストかどうかを判定
$isAjax = isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) === 'xmlhttprequest';

// フォーム処理
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
  $name = escape(trim($_POST['name'] ?? ''));
  $email = escape(trim($_POST['email'] ?? ''));
  $message = escape(trim($_POST['message'] ?? ''));

  if (!check_csrf_token($_POST['csrf_token'] ?? '')) {
      $errors[] = '不正なリクエストです。';
  } else {
      $errors = validate_input($name, $email, $message);
      if (empty($errors)) {
          $mailer = new Mailer();
          if ($mailer->sendContactMail($name, $email, $message)) {
              // Ajaxリクエストの場合はJSONレスポンスを返す
              if ($isAjax) {
                  header('Content-Type: application/json');
                  echo json_encode(['success' => true, 'redirect' => 'thank-you.php']);
                  exit;
              }
              // 通常のPOSTリクエストの場合はリダイレクト
              ob_start();
              header('Location: thank-you.php');
              exit;
          } else {
              $errors[] = 'メール送信に失敗しました。';
          }
      }
  }
  // Ajaxリクエストでエラーがある場合はJSONレスポンスを返す
  if ($isAjax) {
      header('Content-Type: application/json');
      echo json_encode(['success' => false, 'errors' => $errors]);
      exit;
  }
}

require_once(__DIR__ . '/header.php');
require_once(__DIR__ . '/include/dialog.php');
?>
<!-- <div class="noise"></div> -->
<main>
  <!-- #mv -->
  <div id="mv">
    <div class="concept-box">
      <div class="concept">
        <h1>Design <span>×</span> Code = <br><strong>Gloria Design Works</strong></h1>
      </div>
    </div>
    <div class="expanding-box"></div>
  </div>
  <!-- #about -->
  <section id="about">
    <div class="wrapper">
      <div class="desc">
        <h2 class="target">ABOUT</h2>
        <div class="profile-box">
          <h3 class="target">
            <small>Designer・Developer</small>
            <span>YUYA TAKI</span>
          </h3>
        </div>
        <div class="about-flex">
          <div class="text-box">
            <div class="text-box">
              <div class="text target is-show">
                <p>Gloria Design Works is a creative project based in Kashiwa City, Chiba Prefecture.</p>
                <p>We specialize in a wide range of design fields, from web design to DTP, logo design, and application UI/UX.</p>
                <p>As active engineers and marketers, we provide not only beautiful design, beautiful code, and branding-conscious marketing strategies, but also designs that are full of attention as professionals in web and branding.</p>
              </div>
              <div class="text target is-show">
                <p>Gloria Design Worksは千葉県柏市を中心に活動するクリエイティブプロジェクトです。</p>
                <p>WebデザインをメインにDTP、ロゴデザイン、アプリケーションのUI/UXまで幅広いデザイン領域を得意としています。</p>
                <p>現役エンジニアであり、現役マーケターでもある美しいデザイン、美しいコード、ブランディングを意識したマーケティング戦略までデザインのみならずWeb・ブランディングのプロとしてこだわりに満ち溢れたデザインを提供します。</p>
              </div>
            </div>
          </div>
          <div class="about-img">
            <svg class="target draw" id="yuyaTaki" data-name="yuyaTaki" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 537.86 532.4">
              <g>
                <path d="M205.55,267.81c-.02-1.27-.05-2.55-.07-3.82-1.21.34-2.51.52-3.63,1.05-5.85,2.79-12.29,3.87-18.22,5.91-7.78,2.68-15.77,3.55-23.44,4.32-17.46,1.74-33.68-2.8-45.13-17.31-3.14-3.98-4.04-9.71-6.32-15.53,0,2.1.29,3.76-.08,5.26-.39,1.57-1.43,2.98-2.19,4.48.95.73,2.23,1.73,2.87,2.22-1.84,4.41-3.43,8.22-5.02,12.03,4.55,3.85,4.45,14.7.88,17.11.66,5.18.86,9.91,1.96,14.43,1.16,4.78,1.24,8.75-3.04,12.13-.68.54-.43,3.42.37,4.49,2.87,3.83,2.93,4.32-.07,8.48-.63.87-.84,2.82-.29,3.64,3.35,4.98,2.66,9.7-.11,14.6-.63,1.11-.4,2.71-.59,4.28.96.28,2.12.62,3.98,1.17-3.52,2.55-3.93,4.8-1.91,8.31,1.04,1.8-.62,5.08-.85,7.71-.19,2.18-.97,5.34.11,6.34,1.39,1.29,4.6,1.62,6.63,1.02,4.69-1.37,7.11-.67,8.69,3.91.91,2.65,2.85,5.96,1.99,7.98-1.79,4.24-5.07,7.87-7.88,11.66-.39.52-1.65.84-2.34.64-5.16-1.51-10.52-2.65-15.36-4.9-7.3-3.39-7.44-11.16-8.14-17.56-1.11-10.24-.95-20.66-.86-31,.12-14.18.46-28.37,1.1-42.54.82-18.19,1.8-36.38,3.14-54.53.83-11.28,1.97-22.59,3.85-33.74,2.33-13.8,5.06-27.58,8.63-41.11,1.85-7.02,6.06-13.39,8.87-20.19,4.84-11.69,9.09-23.63,14.24-35.17,2.38-5.34,7.76-9.61,9.17-15.04,1.67-6.43,10.03-8.44,9.14-15.99-.09-.73,2.75-1.49,3.36-2.69,2.8-5.46,7.62-9.43,10.14-15.28,1.75-4.06,6.24-6.97,9.59-10.31,6.27-6.26,12.59-12.48,18.94-18.66.69-.68,1.98-1.65,2.54-1.42,5.16,2.2,7.14-2.4,9.79-4.79,4.29-3.87,13.47-4.44,17.46-.12,4.75,5.13,9.16,10.57,13.71,15.87-1.64,2.08-2.64,3.75-5.28.22-3.05-4.07-7.2-7.44-11.33-10.48-1.61-1.19-4.48-.68-8.14-1.1,0,0-.99,2.04-1.59,1.93-3.81-.7-3.7,2.59-4.53,4.42-1.25,2.77.38,7.08-4.35,7.86-2.82.46-5.68.63-8.37.92-.35,2.67-.72,5.49-1.08,8.31-1.72-.28-2.9-.47-4.07-.66-.12,1.56-.24,3.12-.39,4.96-1.67.11-3.71.25-6.08.4-.19,1.72-.37,3.37-.61,5.45-1.43-.65-2.6-1.19-4.31-1.96v7.01c-7.02-.83-3.9,6.33-6.77,9.14-1.56,1.54-2.35,4.15-4.12,5.12-3.73,2.05-4.78,4.66-3.16,8.89-1.7.34-3.16.62-4.71.93.67,1.48,1.36,3,1.67,3.69-3.48,4.03-6.66,7.54-9.54,11.27-.32.42.98,2.1,1.28,2.7-1.71,2.18-4.22,4.2-5.09,6.77-1.38,4.08-7.84,6.39-4.04,12.71.78,1.3-3.49,5.66-5.45,8.59-.47.71-1.59,1.7-1.41,2.03,3.01,5.67-2.85,8.05-4.02,11.17.85,2.58,1.74,4.44,1.93,6.36.07.68-2.11,2.34-2.35,2.18-4.22-2.85-4.03,2.13-5.89,3.32-.49.31-.82,1.78-.51,2.29,1.64,2.76-.12,4.57-1.09,6.97-1.15,2.85-.81,6.32-1,9.53-.24,3.93-.35,7.87-.54,12.37-4.69,2.3-6.12,11.58-2.36,15.88,4.81-9.91,10.16-20.01,14.66-30.47,6.01-14,17.06-22.57,29.72-29.79,14.1-8.03,29.43-11.93,45.43-12.42,5.26-.16,11.21,1.72,15.78,4.44,6.64,3.95,12.75,9.08,18.21,14.58,2.46,2.49,2.82,7.07,4.09,10.72.41,1.18.69,2.41,1.19,4.2,8.88-16.81,20.65-29.2,37.51-36.54,8.67-3.78,16.74-9.06,25.59-12.25,9.76-3.51,20.08-5.88,30.67-3.56,2.84.62,5.9,1.42,8.23,3.04,10.52,7.33,21.39,14.36,25.76,27.59,1.05,3.16,3.48,5.87,5.26,8.79,3.43,5.6,2.44,11.74,2.31,17.81-.06,2.57-.29,5.43.68,7.67,1.63,3.77.88,6.69-.7,10.25-1.12,2.53.14,6.02-.62,8.83-.82,3.04-2.72,5.8-4.22,8.64-.2.38-1.28.58-1.26.77.98,7.83-6.96,10.06-9.73,15.52-.44.86-1.69,1.29-2.49,2.01-1.07.96-2.6,1.84-2.99,3.06-1.78,5.64-5.82,7.71-11.44,7.91.51,2.61,1.47,4.45-3.27,4.38-3.72-.06-7.39,3.79-11.29,5.41-3.81,1.58-7.86,2.57-11.83,3.74-2.85.84-6.1.96-8.54,2.44-7.04,4.28-14.99,3-22.49,4.32-2.72.48-5.66-.34-8.5-.52-.49-.03-1.38.1-1.43.31-.78,3.25-3.13,3.42-5.59,2.62-3.29-1.07-6.92-1.92-9.58-3.94-4.8-3.64-10.07-7.41-13.18-12.37-3.99-6.37-6.05-13.95-8.91-21.02-.58-1.45-.99-2.97-1.85-4.32q-.75,4.63-4.62,4.06c-1.4,1.21,3.75,6.71-2.91,4.68-.16-.05-.73,1.38-1.18,2.08-3.73,5.79-7.36,11.64-11.31,17.27-.82,1.17-2.83,1.51-4.25,2.21-2.91,3.57-6.06,7.44-9.21,11.3,0,0,0,0,0,0ZM269.86,157.51c-2.44,1.22-5.93,1.8-7.11,3.77-3,5.02-7.34,9.08-10.28,13.72-3.86,6.09-4.77,14.18-6.38,21.54-.86,3.91-.78,8.09-.69,12.14.09,4.48.12,9.09,1.18,13.4,1.29,5.27,3.78,10.24,5.47,15.43,3.08,9.46,9.33,16.17,18.94,17.76,8.14,1.35,16.77,1.24,24.98.2,14.8-1.87,28.52-7.62,41.58-14.69,3.4-1.84,6.41-4.59,9.19-7.33,4.46-4.39,9.26-8.68,12.7-13.82,4.08-6.1,9.09-12.83,9.81-19.7,2-19.05.96-38.07-13.22-53.4-4.81-5.2-8.58-12.25-16.17-13.45-7.42-1.17-15.35-4.47-22.55,1.4-.79.64-2.46.07-3.58.47-7,2.49-14.22,4.59-20.86,7.84-5.41,2.65-10.12,6.75-15.16,10.17-.57.38-1.37.88-1.92.75-4.48-1.09-4.84,1.94-5.92,3.8ZM141.82,263.08l-.08,1.37c3.73.42,7.49.63,11.18,1.29,13.75,2.44,26.84-1.61,39.32-5.74,20.43-6.75,32.78-23.69,40.69-42.18,8.19-19.13,8.66-39.02-6.07-57.23-9.28-11.47-23.61-12.65-35.23-10.45-6.82,1.29-13.63,3.05-20.11,5.5-5.35,2.02-10.3,5.22-15.26,8.17-2.89,1.71-5.61,3.79-8.13,6.02-3.75,3.32-7.94,6.44-10.69,10.5-4.66,6.85-8.45,14.31-12.37,21.64-1.55,2.89-3.29,6.04-3.57,9.19-.71,7.96-1.27,16.03-.67,23.96.43,5.69,2.79,11.24,4.39,16.83.19.67,1.02,1.22,1.64,1.71,3.46,2.69,7.01,5.27,10.41,8.04,1.02.83,1.65,2.12,2.66,3.45.68-.73,1.28-1.39,1.89-2.05Z"/>
                <path d="M5.65,183.85c.44,1.02.63,2.32,1.38,2.96.64.55,1.93.34,3.97.59-.26,2.29-.71,5.67-.97,9.07-.09,1.15-.06,2.69.6,3.44,2.54,2.85,3.03,5.2-.49,7.67-.7.49-.8,2.09-.87,3.19-.21,3.08-.41,6.17-.32,9.25.03,1.06.97,2.09,1.48,3.14,2.2,4.61,2.65,9.35,1.28,14.3-.18.64.34,1.82.91,2.25,3.01,2.22,2.44,5.81,3.68,8.61,2.1,4.75.45,10.69,5.79,14.62,2.93,2.16,3.7,7.08,5.98,10.37,1.67,2.41,3.97,4.62,6.45,6.19,3.32,2.09,7.09,3.47,12.19,5.86,0-6.35-.14-11.65.03-16.93.27-8,.85-15.99,1.14-23.99.57-15.61.79-31.23,1.64-46.82.31-5.61,1.98-11.14,3.05-16.71.78-4.01,1.59-8.01,2.4-12.01,1.52-7.48,2.8-15.02,4.69-22.41.86-3.35,3.02-6.37,4.48-9.58.93-2.02,1.85-4.08,2.46-6.21,3.12-10.85,5.59-21.84,12.11-31.51,3.47-5.15,4.91-11.66,8.31-16.88,4.8-7.38,7.34-15.82,13.15-22.96,4.02-4.94,7.75-8.8,13.14-12.03,3.93-2.35,6.55-6.87,9.82-10.36.64-.69,1.6-1.07,2.36-1.65.81-.62,1.72-1.21,2.3-2.02,2.53-3.51,4.88-7.14,7.43-10.62,4.02-5.47,11.53-7.86,13.44-15.21.04-.16.11-.4.23-.45,1.51-.68,2.97-1.6,4.55-1.96,3.95-.89,7.27-5.79,12.12-1.6.78-1.3,1.43-2.39,2.09-3.48.56.39,1.08.66,1.06.76-.51,1.74-.57,4.05-1.74,5.09-4.51,4.03-11.32,5.1-14.54,10.76-1.05,1.85-.96,4.36-1.52,7.23-1.69.6-4.99.91-6.97,2.69-2.62,2.35-5.48,5.67-5.95,8.9-.91,6.24-4.34,5.61-9.46,3.96,1.55,1.71,2.38,2.47,3.02,3.36.92,1.26,2.62,3.54,2.39,3.77-1.57,1.55-3.5,2.79-5.45,3.88-.6.34-2.25-.37-2.36-.12-2.2,4.92-8.36,6.3-10.23,11.59-.58,1.65-2.34,2.88-3.78,4.57,1.67,2.88.08,5.49-2.94,7.06-5.57,2.9-7.99,7.39-8.51,13.49-.18,2.09-1.64,4.12-2.72,6.07-2.26,4.07-4.67,8.06-7.01,12.09-2.33,4-4.65,8-7.5,12.92,5.8,4.86-.88,9.66-2.89,14.74-1.79,4.54-1.83,9.13-2.62,13.71-.17,1-1.75,1.67-2.24,2.71-.9,1.91-1.69,3.92-2.12,5.97-.88,4.24-1.54,8.52-2.21,12.8-.35,2.19.25,5.53-.97,6.4-3.54,2.54-1.07,5.98-2.15,8.81-1.08,2.82-.98,6.07-1.52,9.12-.2,1.14-.8,2.2-1.18,3.31-.39,1.14-1.03,2.29-1.03,3.44-.05,6.55,1.19,13.37-.27,19.56-1.02,4.34.28,6.97,1.29,10.59.95,3.42-.14,7.68-1.21,11.32-2.1,7.14-.8,14.16-.23,21.24.16,1.96-.32,3.97-.19,5.93.36,5.3.9,10.6,1.42,16.45-3.02,1.03-3.51,3.37-1.94,7.04.82,1.92,2.25,5.44-2.4,5.72,2.71,4.77,5.05,9.31,3.8,15.06-.58,2.69.24,5.68.48,9.3.03-.03-.82.69-1.68,1.41.09.22.18.45.26.67,1.28-.34,2.56-.69,4.06-1.09,0,1.4-.42,2.75.07,3.42,2.06,2.77-5.39,5.1-.31,7.67,2.51,1.27,5.28,2.04,8.26,3.17-3.31,2.98-1.08,3.53,1.81,3.77-3.99,2.95-.89,4.35.63,6.31,1.02,1.31,1.39,3.12,2.05,4.71-.47.24-.93.49-1.4.73.77.05,1.53.11,1.1.08-.65,2.49-1.67,4.85-1.81,7.26-.2,3.5-1.82,4.55-4.99,4.06-1.54-.24-3.08-.5-4.64-.67-10.64-1.13-13.26-1.34-16.19-14.39-1.47-6.52-2.51-13.18-3.22-19.83-1.22-11.5-2.03-23.04-2.96-33.96-9.56-4.67-20.08-8.08-28.33-14.44-5.72-4.41-9.11-12.55-12.03-19.65-2.64-6.43-3.45-13.66-4.65-20.61-1.58-9.18-1.9-18.41-.23-27.69.36-1.97-1.43-4.53-.73-6.19,3.02-7.18-.9-16,5.4-22.31,0,0-.13.12-.13.12Z"/>
                <path d="M428.34,190.78c.43.17,1.28.5,3.09,1.21-1.59.47-2.74.54-2.83.88-1.12,4.32-2.17,8.66-3.07,13.03-.86,4.2-3.25,9.18-1.85,12.5,1.88,4.43-2.29,7.1-1,10.9.58,1.71-.6,3.97-.77,6-.12,1.36-.02,2.79.25,4.13.2.97,1.46,2.18,1.17,2.72-2.02,3.8-.06,8.69-3.43,12.12-.64.65-.95,1.88-.96,2.85-.05,4.22.09,8.44.13,12.67.03,3.58,0,7.17,0,10.68-1.6,8.33-3.05,16.59,1.15,24.96-4.03,1.82-6.81,3.2-3.82,8.25,1.3,2.2,2.31,7.43-3.15,9.51,1.44.99,2.47,1.7,3.87,2.67-3.14,3.31-5.54,6.98-2.65,11.1.75,1.07,3.79.54,6.65.83,2.49,7.21,3.44,15.18-.99,23.39-1.02,1.9.03,4.92.18,8.75-2.41.53-6.46,2.02-10.56,2.2-7.65.33-11.4-2.95-11.3-10.48.17-12.19.72-24.42,1.88-36.56,2.18-22.93,4.76-45.83,7.46-68.7,1.97-16.68,4.26-33.33,6.66-49.96,2.47-17.17,5.66-34.25,7.77-51.46,2.7-22.01,5.07-44.12,3.65-66.33-.99-15.42-2.68-30.82-4.84-46.12-.95-6.78-3.68-13.33-5.89-19.89-1.88-5.59-6.49-8.82-11.72-10.33-8.95-2.6-18.2-2.57-27.41-.97-2.67.46-5.38.73-8.06,1.13-.83.12-1.8.13-2.43.58-4.51,3.18-4.49,3.21-9.56.92,13.94-8.53,28.65-11.24,44.8-8.67,11.07,1.76,17.37,8.6,22.49,17.32,5.5,9.36,6.21,20.11,8.26,30.47.81,4.11,2.24,8.1,3.22,12.18.21.88-.31,1.94-.47,2.92-.25,1.52-.83,3.09-.66,4.57.53,4.63,1.43,9.22,2.01,13.85.6,4.81,1.36,9.64,1.37,14.46.02,7.38-.57,14.75-.83,22.13-.27,7.65-.24,15.32-.77,22.95-.22,3.17-1.92,6.22-2.3,9.4-.52,4.33-.05,8.79-.67,13.09-1.07,7.37-2.67,14.67-4.07,22.18Z"/>
                <path d="M498.48,268.49c1.69,6.81-7.46,12.7-3.76,20.87-1.64.92-3.37,1.9-4.82,2.71.57,1.17,1.2,2.5,1.51,3.14-1.58,3.76-7.65,3.08-6.55,8.62-3.99,1.66-8.39,9.09-8.38,13.59-2.91.14-5.73.5-8.53.35-2.14-.11-4.25-.85-6.38-1.31.71-1.79,1.18-3.74,2.17-5.36,3.34-5.46,7.35-10.56,10.2-16.26,3.9-7.8,6.72-16.14,10.47-24.02,4.31-9.03,9.84-17.53,13.56-26.78,4.77-11.86,8.35-24.2,12.28-36.38,2.57-7.97,5.27-15.94,7.16-24.09,2.16-9.32,3.4-18.84,5.18-28.25,3.68-19.45,3.88-39.16,4.2-58.84.21-12.64-.11-25.31-.84-37.93-.33-5.67-2.25-11.25-3.4-16.88-.22-1.08-.16-2.22-.27-3.99,4.51,1.9,8.61,2.05,9.02,8.38.53,8.2,2.96,16.27,4.28,24.44.18,1.13-1.31,2.52-2.16,4.04,1.05.24,2.12.49,2.29.53.51,5.41,1.11,10.31,1.4,15.22.22,3.67-.05,7.37.07,11.05.07,2.2.72,4.41.65,6.59-.08,2.6-.79,5.18-1,7.79-.36,4.56-.55,9.14-.82,13.71-.54.13-1.07.25-1.61.38.96.44,1.92.87,2.46,1.12,0,4.75.37,9.47-.12,14.11-.38,3.58-2,7.02-2.74,10.59-.45,2.16-.29,4.46-.34,5.61-1.24,3.84-2.55,6.75-3.05,9.79-.45,2.69.36,5.59-.06,8.29-.31,1.98-1.93,3.72-2.57,5.7-.94,2.9-1.6,5.9-2.22,8.9-.53,2.57.06,6.52-1.42,7.53-5.91,4.02-3.03,10.15-4.49,15.13-2.1,7.17-1.93,15.58-5.74,21.53-4.94,7.71-5.92,16.87-11.13,24.18-1.29,1.81-2.62,3.59-4.51,6.19Z"/>
                <path d="M468.22,229.8c-.82,1.82-2.55,3.79-2.28,5.43.91,5.57-3.25,9.47-4.24,14.48-1.13,5.75-3.45,11.23-4.58,17.21-.86,4.54,1.26,11.49-4.93,14.7-.21.11-.05.92-.09,1.4-.3,4.11,2.03,8.74-4.03,11.43-1.73.77-1.54,5.87-2.31,9.37-4.56-.29-9.29.03-13.62-1.12-2.14-.57-4.91-3.77-5.06-5.95-.45-6.55,0-13.2.63-19.76.2-2.07,2.03-3.98,3.67-6.99,2.2,5.15,3.73,8.71,5.25,12.27.51.02,1.02.03,1.53.05,1.53-4.53,2.97-9.09,4.61-13.57,1.63-4.47,3.8-8.77,5.14-13.31,2.92-9.92,5.31-19.99,8.21-29.91,3.07-10.48,6.9-20.76,9.63-31.32,2.3-8.9,3.68-18.06,5.16-27.16,2.45-15.1,5.15-30.18,6.77-45.37,1.01-9.4.5-19.01.19-28.51-.4-12.47-.77-24.98-2.14-37.37-.73-6.63-3.09-13.21-5.64-19.44-1.06-2.57-4.55-4.15-7.17-6.37,2.94-3.17,5.95-2.53,8.65.4,5.24,5.68,9.22,11.93,10.01,20.03.38,3.87,2.35,7.59,3.67,11.57.2,1.84.4,4,.66,6.15.29,2.4.68,4.79.91,7.2.18,1.85.18,3.73.23,5.59.2,6.9.4,13.8.59,20.7,0,.17-.14.36-.09.51,1.97,6.88,1.18,13.75.32,20.7-.84,6.78.47,14.25-1.95,20.29-3.29,8.2-2.28,16.37-3.34,24.53-.41,3.15-1.85,6.14-2.53,9.27-.43,1.97-.18,4.08-.52,6.08-.3,1.76-1.11,3.43-1.5,5.18-.5,2.24-.72,4.53-1.2,6.78-1.2,5.6-2.48,11.19-3.75,16.77-.15.66-.3,1.61-.76,1.87-6.66,3.85-3.61,9.45-2.74,14.67.11.67.02,1.38.02,2.06-.45-.19-.9-.38-1.36-.56Z"/>
                <path d="M202.46,275.4c-.9,4.09-1.65,8.22-2.73,12.26-1.73,6.45-3.63,12.86-5.55,19.26-.54,1.8-1.41,3.5-1.95,4.82,0,2.55.29,5.01-.07,7.37-.59,3.86,3.51,9.96,7.79,10.24,5.06.34,10.04,1.04,14.94-2.33,5.96-4.1,13.13-6.45,19.01-10.64,7.11-5.06,13.42-11.24,20.07-16.96,1.3-1.12,2.54-2.32,3.73-3.42,6.58,4.12,3.4,7.05-1.38,14.16-4.74,7.04-12.1,10.71-18.74,14.84-8.27,5.14-17.51,9.52-26.91,11.8-8.08,1.96-16.59-1.07-22.95-7.17-1.63-1.56-2.43-4.76-2.35-7.17.18-5.73.31-11.19,3.98-16.7,3.35-5.02,3.57-12.09,5.4-18.19,1.14-3.79,2.56-7.53,4.22-11.11.31-.67,2.39-.53,3.65-.76,0,0-.16-.3-.16-.3Z"/>
                <path d="M361.78,368.72c-9.78-.76-19.48-2.6-29-1.96-9.37.63-18.35,3.82-27.39,7.49-8.97,3.63-16.76,8.54-25.02,13.1-8.5,4.69-13.33,12.92-19.94,19.49-1.91-6.77,2.82-10.05,6.08-13.54,7.69-8.24,16.98-14.47,27.32-19.03,7.29-3.21,14.43-6.82,21.91-9.49,9.88-3.53,20.21-4.51,30.68-3.24,1.53.19,3.06.68,4.58.65,4.8-.09,9.33.13,10.77,6.54Z"/>
                <path d="M277.09,87.22c2.52-1.28,4.79-3.31,5.76-2.81,10.21,5.28,21.69,4.16,32.45,6.56,6.75,1.5,14.11,0,21.1.74,4.79.51,9.78,2.42,14-.4,4.98-3.33,10.47-3.16,15.85-3.82,1.31-.16,3.64,1.17,4.03,2.32.44,1.28-.39,4.15-1.39,4.54-3.65,1.46-7.56,2.94-11.42,3.07-21.95.75-43.55-2.8-65.15-6.05-4.57-.69-8.98-2.42-15.23-4.16Z"/>
                <path d="M263.94,518.73c.5-5.31.99-10.62,1.58-16.94,4.82,7.62,3.91,14.88,2.96,21.99-.18,1.34-2.63,2.71-4.3,3.36-.72.28-2.47-.99-3.2-1.97-7-9.39-8.43-20.55-10.32-31.68-.98-5.79-3.7-11.28-5.23-17.01-.44-1.66.53-3.69.88-5.74,4.69,1.52,6.76,3.26,5.27,7.63-.56,1.63.41,3.86.92,5.75,2.9,10.94,5.86,21.85,8.8,32.77.32,1.18.67,2.35,1.01,3.52.54-.56,1.09-1.13,1.63-1.69Z"/>
                <path d="M267.26,466.47c.54,1.2,1.31,2.35,1.6,3.61,1.87,8.23,3.65,16.49,5.44,24.74.07.34.21.77.08,1.03-3.66,6.8,2.34,11.72,3.34,18.89,1.5-3.66,2.54-6.21,3.59-8.77.61.09,1.21.19,1.82.28-.44,4.83-.75,9.68-1.53,14.45-.09.52-3.7,1.37-4.42.7-2.16-2-4.84-4.47-5.29-7.11-2.48-14.54-4.39-29.18-6.41-43.8-.17-1.25.23-2.58.37-3.88.48-.05.95-.1,1.43-.15Z"/>
                <path d="M291.85,460.92c-.19,3.73-.76,6.87-.44,9.93,1.02,9.82,2.2,19.62,3.71,29.38.45,2.9,2.32,5.56,3.32,8.41,1.76,5.02.36,7.8-5.56,10.11-.72-5.94-1.46-11.69-2.1-17.44-1.04-9.33-2.19-18.66-2.93-28.02-.33-4.17-2.29-9.12,4.02-12.36Z"/>
                <path d="M310.26,482.69c.65-1.63,1.26-3.18,1.88-4.73.39-.12.78-.24,1.16-.36.4,1.67,1.17,3.34,1.15,5-.13,10.45-.19,10.45-5.55,13.77-4.45-4.13-6.57-34.03-1.51-40.1.94,8.66,1.87,17.32,2.86,26.41Z"/>
                <path d="M319.78,446.19c1.2,3.04,2.39,4.84,2.59,6.75.67,6.41.82,12.87,1.49,19.27.55,5.31,1.64,10.57,2.3,15.87.46,3.67-.48,6.55-6.38,6.63v-48.53Z"/>
                <path d="M333.86,479.57c.72-12.47,1.43-24.94,2.15-37.41.79.04,1.57.08,2.36.13-.16,2.87-.34,5.73-.47,8.6-.2,4.36-.45,8.73-.4,13.09,0,.43,2.93.89,2.91,1.26-.2,4.08-.43,8.21-1.31,12.18-.31,1.38-2.46,2.36-3.76,3.52l-1.48-1.36Z"/>
                <path d="M245.64,529.2c1.52-2.43,2.29-3.65,3.14-5.01,1.93,5.39,1.65,6.69-1.9,7.93-.99.35-2.8.45-3.27-.13-5.17-6.27-7.46-13.65-8.65-21.41.41-.19.82-.39,1.23-.58,3,6.09,6,12.18,9.45,19.19Z"/>
                <path d="M349.9,455.43c-.86,10.14,1.95,20.7-3.04,30.37-.46-.05-.92-.1-1.38-.15,1.05-10.16,2.09-20.32,3.14-30.48l1.28.25Z"/>
                <path d="M8.77,177.45c-3.04,1.62-4.61.62-4.75-2.73-.08-2.04-.02-4.09-.02-5.69,2.82.55,5.37,1.05,8.73,1.7-1.1,1.98-2.38,4.28-3.65,6.58,0,0-.32.14-.32.14Z"/>
                <path d="M8.77,177.45s.33-.14.32-.14c1.14-.34,2.28-.68,3.8-1.13-1.2,3.16-2.12,5.59-3.68,9.7-.7-2.09-1.24-3.7-1.78-5.31-.46.33-.92.66-1.37.99-.14.76-.27,1.53-.41,2.3,0,0,.13-.12.12-.12-2.17-.83-3.2-1.7-.46-3.32,1.28-.76,2.31-1.96,3.46-2.96Z"/>
                <path d="M202.46,275.4s.16.3.16.3c.44-2.83-2.53-6.93,2.93-7.9,0,0,.01,0,0,0,2.03,5.69,1.03,8.14-3.1,7.59Z"/>
                <path d="M347.02,19.17c-.25,1.28-.08,3.28-1,4.33-.92,1.05-2.92,1.16-4.45,1.68-.46-.66-.92-1.33-1.38-1.99,2.17-1.28,4.33-2.55,6.82-4.02Z"/>
                <path d="M233.1,497.71c.78,3.54,1.56,7.07,2.35,10.61-.38.13-.75.26-1.13.38l-3.77-10.24c.85-.25,1.7-.5,2.55-.75Z"/>
                <path d="M15.42,158.04c-1.35-2.65-2.58-5.08-3.82-7.51.47-.27.93-.55,1.4-.82,1.4,1.83,2.79,3.65,4.36,5.71-.56.75-1.38,1.86-1.94,2.62Z"/>
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- #portfolio -->
  <section id="portfolio">
    <div class="wrapper">
      <div class="desc">
        <div class="title">
          <h2 class="target">PORTFOLIO</h2>
          <p>モックをクリックすると選択画面が開きます</p>
        </div>
        <div class="portfolio-mock target">
          <div class="mock-base">
            <img class="mock-pc" src="<?php echo $url; ?>/assets/images/portfolio/pc-mock.webp" alt="PC">
            <img class="mock-sp" src="<?php echo $url; ?>/assets/images/portfolio/sp-mock.webp" alt="MOBILE">
          </div>
          <div class="portfolio-mock-img">
            <div id="works01" class="portfolio-works">
              <img class="works-pc" src="<?php echo $url; ?>/assets/images/works/01.webp" alt="1010bit Offical Corplate Site">
              <img class="works-sp" src="<?php echo $url; ?>/assets/images/works/01-s.webp" alt="1010bit Offical Corplate Site">
            </div>
            <div id="works02" class="portfolio-works">
              <img class="works-pc" src="<?php echo $url; ?>/assets/images/works/02.webp" alt="The Traveling Theory Artist Site">
              <img class="works-sp" src="<?php echo $url; ?>/assets/images/works/02-s.webp" alt="The Traveling Theory Artist Site">
            </div>
            <div id="works03" class="portfolio-works">
              <img class="works-pc" src="<?php echo $url; ?>/assets/images/works/03.webp" alt="Cotovia Clinic Offical Site">
              <img class="works-sp" src="<?php echo $url; ?>/assets/images/works/03-s.webp" alt="Cotovia Clinic Offical Site">
            </div>
            <div id="works04" class="portfolio-works">
              <img class="works-pc" src="<?php echo $url; ?>/assets/images/works/04.webp" alt="Nico Nico House Sendai Official Site">
              <img class="works-sp" src="<?php echo $url; ?>/assets/images/works/04-s.webp" alt="Nico Nico House Sendai Official Site">
            </div>
            <div id="works05" class="portfolio-works">
              <img class="works-pc" src="<?php echo $url; ?>/assets/images/works/05.webp" alt="Ken5.golf Official Site">
              <img class="works-sp" src="<?php echo $url; ?>/assets/images/works/05-s.webp" alt="Ken5.golf Official Site">
            </div>
          </div>
          <div class="portflio-mock-desc">
            <div id="works01" class="portfolio-desc">
              <h3>The Traveling Theory Artist Site</h3>
              <div class="desc-detail">
                <p>Design / Develop</p>
                <ul class="tech">
                  <li><i class="fa-brands fa-html5"></i></li>
                  <li><i class="fa-brands fa-css3-alt"></i></li>
                  <li><i class="fa-brands fa-php"></i></li>
                  <li><i class="fa-brands fa-js"></i></li>
                  <li><i class="fa-brands fa-wordpress"></i></li>
                </ul>
              </div>
            </div>
            <div id="works02" class="portfolio-desc">
              <h3>1010bit Offical Corplate Site</h3>
              <div class="desc-detail">
                <p>Design / Develop</p>
                <ul class="tech">
                  <li><i class="fa-brands fa-html5"></i></li>
                  <li><i class="fa-brands fa-css3-alt"></i></li>
                  <li><i class="fa-brands fa-php"></i></li>
                  <li><i class="fa-brands fa-js"></i></li>
                </ul>
              </div>
            </div>
            <div id="works03" class="portfolio-desc">
              <h3>Cotovia Clinic Offical Site</h3>
              <div class="desc-detail">
                <p>Design / Develop</p>
                <ul class="tech">
                  <li><i class="fa-brands fa-html5"></i></li>
                  <li><i class="fa-brands fa-css3-alt"></i></li>
                  <li><i class="fa-brands fa-php"></i></li>
                  <li><i class="fa-brands fa-js"></i></li>
                  <li><i class="fa-brands fa-wordpress"></i></li>
                </ul>
              </div>
            </div>
            <div id="works04" class="portfolio-desc">
              <h3>Nico Nico House Sendai Official Site</h3>
              <div class="desc-detail">
                <p>Design / Develop</p>
                <ul class="tech">
                  <li><i class="fa-brands fa-html5"></i></li>
                  <li><i class="fa-brands fa-css3-alt"></i></li>
                  <li><i class="fa-brands fa-php"></i></li>
                  <li><i class="fa-brands fa-js"></i></li>
                  <li><i class="fa-brands fa-wordpress"></i></li>
                </ul>
              </div>
            </div>
            <div id="works05" class="portfolio-desc">
              <h3>Ken5.golf Official Site</h3>
              <div class="desc-detail">
                <p>Design / Develop</p>
                <ul class="tech">
                  <li><i class="fa-brands fa-react"></i></li>
                  <li><i class="fa-brands fa-node-js"></i></li>
                  <li><i class="fa-brands fa-css3-alt"></i></li>
                  <li><i class="fa-brands fa-aws"></i></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="portfolio-select">
    <ul>
      <li>
        <a href="#works01">
          <img src="<?php echo $url; ?>/assets/images/works/01-s.webp" alt="The Traveling Theory Artist Site">
          <div class="site-title">The Traveling Theory Artist Site</div>
        </a>
      </li>
      <li>
        <a href="#works02">
          <img src="<?php echo $url; ?>/assets/images/works/02-s.webp" alt="1010bit Offical Corplate Site">
          <div class="site-title">1010bit Offical Corplate Site</div>
        </a>
      </li>
      <li>
        <a href="#works03">
          <img src="<?php echo $url; ?>/assets/images/works/03-s.webp" alt="Cotovia Clinic Offical Site">
          <div class="site-title">Cotovia Clinic Offical Site</div>
        </a>
      </li>
      <li>
        <a href="#works04">
          <img src="<?php echo $url; ?>/assets/images/works/04-s.webp" alt="Nico Nico House Sendai Official Site">
          <div class="site-title">Nico Nico House Sendai Official Site</div>
        </a>
      </li>
      <li>
        <a href="#works05">
          <img src="<?php echo $url; ?>/assets/images/works/05-s.webp" alt="Ken5.golf Official Site">
          <div class="site-title">Ken5.golf Official Site</div>
        </a>
      </li>
    </ul>
  </div>
  <div id="shadow"></div>
  <!-- #skills -->
  <section id="skills" class="rightScroll">
    <div class="wrapper">
      <div class="desc">
        <h2 class="target">SKILLS</h2>
        <div class="text target">
          <p>Web Design・UI/UX Design・Development・Branding・Marketing</p>
        </div>
        <div class="text target">
          <p>Webデザインを中心に、ユーザーエクスペリエンス（UX）を重視したUI/UXデザイン、堅牢で効率的な開発、ブランドイメージの構築を支援するブランディング、そしてマーケティング戦略を駆使して、オンラインの効果的なプレゼンスを作り上げるお手伝いをしています。</p>
          <p>これらのスキルを融合させ、クライアント様のビジネスの成長と成功をサポートしています。</p>
        </div>
      </div>
      <div class="desc">
        <h3 class="target">Using Skills</h3>
        <div class="text target">
          <p>HTML / CSS / PHP / JavaScript / TypeScript / Python</p>
          <p>React / Node.js / AWS / Git / WordPress</p>
          <p>Figma / Adobe Photoshop / Adobe Illustrator / Adobe InDesign / Affinity</p>
          <p>Google Analytics / Google Tag Manager / Google Search Console / Google Ads / Facebook Ads / Press Release</p>
        </div>
      </div>
    </div>
  </section>
  <!-- #contact -->
  <section id="contact">
    <div class="wrapper">
      <div class="desc target">
        <h2>CONTACT</h2>
      </div>
      <form class="target" method="post" action="" id="contactForm">
        <input type="hidden" name="csrf_token" value="<?php echo $_SESSION['csrf_token']; ?>">
        <div class="form-block">
          <label for="name">名前</label>
          <input type="text" id="name" name="name" required value="<?php echo escape($name ?? ''); ?>">
        </div>
        <div class="form-block">
          <label for="email">メールアドレス</label>
          <input type="email" id="email" name="email" required value="<?php echo escape($email ?? ''); ?>">
        </div>
        <div class="form-block">
          <label for="message">お問合せ内容</label>
          <textarea id="message" name="message" required><?php echo escape($message ?? ''); ?></textarea>
        </div>
        <div class="form-block send-button">
          <button type="submit" class="en submit-btn" id="submitBtn">
            <span class="default">SEND</span>
            <span class="loading" style="display: none;">
              <div class="spinner"></div>
              SENDING...
            </span>
          </button>
        </div>
      </form>
    </div>
  </section>
</main>
<?php require_once(__DIR__ . '/footer.php'); ?>